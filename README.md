# CBT 小幫手 (CBT Assistant SaaS)

這是一個基於認知行為治療 (CBT) 與行為活化 (BA) 理論的現代化 SaaS 應用程式。旨在幫助使用者透過微小的行動與反思，逐步改善焦慮情緒並找回生活掌控感。

## 核心功能

- **任務挑選 (Task Picker)**：提供分類明確的任務庫，支援自訂任務與快速篩選，降低行動門檻。
- **情緒反思 (Reflection)**：使用直觀的情緒滑桿 (0-10) 與引導式問答，記錄行動前後的情緒變化，驗證認知偏差。
- **儀表板 (Dashboard)**：視覺化情緒趨勢圖表，自動生成個人化洞察 (Insights)，量化進步。
- **行程安排 (Scheduling)**：整合 Google 日曆，將任務具體化為行程。
- **極致體驗**：全站無刷新導航、絲滑的過渡動畫、響應式側邊欄設計。

## 技術架構

- **前端框架**: Vue 3 (Composition API) + TypeScript
- **建置工具**: Vite
- **狀態管理**: Pinia
- **樣式庫**: Tailwind CSS 4.0
- **後端服務**: Supabase (PostgreSQL, Auth, RLS)
- **圖表庫**: Chart.js / vue-chartjs

## 快速開始

### 前置需求

- Node.js 18+
- Supabase 專案 (需設定資料表與 RLS)

### 安裝與執行

1. **安裝依賴**
   ```bash
   npm install
   ```

2. **設定環境變數**
   複製 `.env.example` 為 `.env` 並填入你的 Supabase URL 與 Anon Key。
   ```env
   VITE_SUPABASE_URL=your_url
   VITE_SUPABASE_ANON_KEY=your_key
   ```

3. **啟動開發伺服器**
   ```bash
   npm run dev
   ```

4. **建置生產版本**
   ```bash
   npm run build
   ```

## 資料庫結構 (SQL)

請參考 `supabase/schema.sql` (若有) 或以下核心結構：

```sql
-- tasks: 任務庫
create table tasks (
  task_id uuid primary key default gen_random_uuid(),
  title text not null,
  category text not null,
  is_default boolean default false,
  creator_user uuid references auth.users(id)
);

-- cbt_record: 使用者紀錄
create table cbt_record (
  record_id bigint generated by default as identity primary key,
  user_id uuid references auth.users(id),
  task_id uuid references tasks(task_id),
  scheduled_time timestamptz,
  status text default 'pending',
  anxiety_before int,
  anxiety_after int,
  thought_before text,
  feeling_after text
);
```

## 專案亮點

- **Clean Code**: 嚴格遵守 TypeScript 類型定義，移除 `any`，並採用模組化架構。
- **UI/UX**: 精心設計的微互動 (Micro-interactions)，包含按鈕回饋、骨架屏加載 (Skeleton Loading) 與轉場動畫。
- **Security**: 完整實作 Row Level Security (RLS)，確保資料隱私。

---
© 2026 CBT SaaS Engine.